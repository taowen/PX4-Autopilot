 这份代码定义了一个名为`Ekf`的类中的三个方法，主要用于处理假位置融合的控制逻辑。

1. `controlFakePosFusion`方法：根据飞行状态和传感器数据，决定是否使用假位置数据进行状态估计融合。它会根据不同的条件设置观测噪声，并更新水平位置辅助源状态。同时，它还会检查融合是否成功，如果不成功则重置融合，或者在条件不满足时停止融合。

2. `resetFakePosFusion`方法：在需要重置假位置融合时调用，它会更新最后已知位置，重置水平位置和速度估计，以及更新辅助源的最后融合时间。

3. `stopFakePosFusion`方法：当需要停止假位置融合时调用，它会设置控制状态标志以停止融合，并重置辅助源的状态。